!function(e){function t(t){for(var r,a,u=t[0],i=t[1],s=t[2],l=0,p=[];l<u.length;l++)a=u[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(f&&f(t);p.length;)p.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,a=1;a<n.length;a++){var i=n[a];0!==o[i]&&(r=!1)}r&&(c.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},a={3:0},o={3:0},c=[];function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[];a[e]?t.push(a[e]):0!==a[e]&&{1:1,4:1,5:1}[e]&&t.push(a[e]=new Promise((function(t,n){for(var r=e+"."+{0:"31d6cfe0",1:"da527c75",2:"31d6cfe0",4:"d2584bc3",5:"9e1b2b34"}[e]+".css",o=u.p+r,c=document.getElementsByTagName("link"),i=0;i<c.length;i++){var s=(f=c[i]).getAttribute("data-href")||f.getAttribute("href");if("stylesheet"===f.rel&&(s===r||s===o))return t()}var l=document.getElementsByTagName("style");for(i=0;i<l.length;i++){var f;if((s=(f=l[i]).getAttribute("data-href"))===r||s===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||o,c=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=r,delete a[e],p.parentNode.removeChild(p),n(c)},p.href=o,document.getElementsByTagName("head")[0].appendChild(p)})).then((function(){a[e]=0})));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=r);var c,i=document.createElement("script");i.charset="utf-8",i.timeout=120,u.nc&&i.setAttribute("nonce",u.nc),i.src=function(e){return u.p+""+e+"."+{0:"05ca7df7",1:"64ab45cc",2:"1271f130",4:"31f3cd58",5:"260ef949"}[e]+".js"}(e);var s=new Error;c=function(t){i.onerror=i.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",s.name="ChunkLoadError",s.type=r,s.request=a,n[1](s)}o[e]=void 0}};var l=setTimeout((function(){c({type:"timeout",target:i})}),12e4);i.onerror=i.onload=c,document.head.appendChild(i)}return Promise.all(t)},u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/wp-content/uploads/action-map-assets/",u.oe=function(e){throw console.error(e),e};var i=window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var f=s;c.push([0,6]),n()}({"+BRp":function(e,t,n){e.exports={MapArea:"_3Cooy"}},0:function(e,t,n){e.exports=n("1idS")},"0tbs":function(e,t,n){e.exports={Loading:"_3KZIF",ProgressBar:"_3tUzb",Stripes:"_1x03M","animate-stripes":"_1Isw0","auto-progress":"_291TN"}},"1idS":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),a=n.n(r),o=n("qWSy"),c=n.n(o),u=n("0cfB"),i=n("/MKj"),s=n("u4tm"),l=n("V/vL"),f=n("MKeS"),p=n("2VHb"),d=n("wQ7H"),m=n("qhky");n("pNMO"),n("TeQF"),n("QWBl"),n("5DmW"),n("27RR"),n("tkto"),n("FZtP");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n("OOTs").a,{},{}),b=(n("9d8Q"),n("A3vI")),g=n.n(b),E=(n("jRuy"),n("mCOD"),function(e){var t=e.route;return a.a.createElement("div",{className:g.a.App},a.a.createElement(m.a,v.app),Object(l.a)(t.routes))}),O=n("hgKR"),_=n.n(O),S=Object(r.memo)((function(e){var t=e.staticContext;return t&&(t.status="404"),a.a.createElement("div",{className:_.a.NotFound},a.a.createElement(m.a,{title:"Not Found"}),a.a.createElement("p",null,"Page was not found!"))})),j=[{component:E,routes:[{path:"/action-map/",exact:!0,component:n("nzdV").a,loadData:function(){return[d.a()]}},{component:S}]}];Object(f.b)((function(){var e;e=j,(0,c.a.hydrate)(a.a.createElement(u.AppContainer,null,a.a.createElement(i.a,{store:p.b},a.a.createElement(s.a,{history:p.a},Object(l.a)(e)))),document.getElementById("action-map-react-root"))}))},"2VHb":function(e,t,n){"use strict";n.d(t,"b",(function(){return N})),n.d(t,"a",(function(){return I}));n("07d7"),n("5s+n");var r=n("LhCv"),a=n("ANjH"),o=n("tRgb"),c=n("sINF"),u=n("VMe3"),i=n.n(u),s=n("L+Wg"),l=n("u4tm"),f=(n("pNMO"),n("TeQF"),n("QWBl"),n("pjDv"),n("4mDm"),n("2B1R"),n("E9XD"),n("qePV"),n("5DmW"),n("27RR"),n("tkto"),n("YGK4"),n("PKPk"),n("SYor"),n("mRH6"),n("FZtP"),n("3bBZ"),n("6+LV"));function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={readyStatus:"invalid",err:null,eventTypes:[],eventsData:[]},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.b:return d({},e,{readyStatus:"request"});case f.c:return d({},e,{readyStatus:"success",eventTypes:Array.from(t.payload.data.reduce((function(e,t){return e.add(t.acf.map_content_type),e}),new Set)),eventsData:t.payload.data.map((function(e){return{id:e.id,title:e.title.rendered,url:e.link,modifiedAt:e.modified_gmt,content:e.content.rendered.trim(),contentType:e.acf.map_content_type,latitude:Number(e.acf.latitude),longitude:Number(e.acf.longitude)}}))});case f.a:return d({},e,{readyStatus:"failure",err:t.payload.data});default:return e}};function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E,O,_,S,j,w,P={activeFilters:[],bounds:{northeast:{lng:-65.27952974884487,lat:54.281353451957585},southwest:{lng:-127.3735738860654,lat:19.084515887021055}},center:[-96.32655181745479,38.80834427056388],chosenResult:null,chosenLocation:null,searchQuery:null,searchResults:[],sourceParam:null,zoom:[3.9564829608493017]},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.m:return b({},e,{sourceParam:t.data.source});case f.e:return b({},e,{activeFilters:P.activeFilters});case f.d:return b({},e,{map:t.data});case f.f:return b({},e,{zoom:P.zoom,center:P.center,bounds:P.bounds});case f.l:return b({},e,{zoom:t.data.zoom||e.zoom,center:t.data.center||e.center,bounds:t.data.bounds||e.bounds});case f.g:return b({},e,{chosenLocation:t.data});case f.i:return b({},e,{searchQuery:t.data});case f.h:return b({},e,{activeFilters:t.data.filters});case f.j:return b({},e,{searchResults:t.data});case f.k:return b({},e,{chosenResult:t.data.formatted_address});case f.c:return b({},e,{activeFilters:0===e.activeFilters.length?Array.from(t.payload.data.reduce((function(e,t){return e.add(t.acf.map_content_type),e}),new Set)):e.activeFilters});default:return e}},R=function(e,t){return Promise.reject(t)},T=function(e,t){return Promise.resolve(t)},L=(globalThis||{}).__INITIAL_STATE__||{},C=(O=(E={initialState:L}).initialState,_=E.url,S="undefined"==typeof window?Object(r.c)({initialEntries:[_||"/action-map/"]}):Object(r.a)(),j=[Object(o.a)(S),c.a,i()(s.a,{interceptors:{response:[{error:R,success:T}]},returnRejectedPromiseOnError:!0})],w=(0,a.d)(a.a.apply(void 0,j)),{store:Object(a.e)(function(e){return Object(a.c)({home:h,search:A,router:Object(l.b)(e)})}(S),O||{},w),history:S}),N=C.store,I=C.history},"6+LV":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"h",(function(){return c})),n.d(t,"j",(function(){return u})),n.d(t,"k",(function(){return i})),n.d(t,"i",(function(){return s})),n.d(t,"m",(function(){return l})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"f",(function(){return d})),n.d(t,"l",(function(){return m})),n.d(t,"g",(function(){return y}));var r="GET_EVENTS_MANUALLY_REQUEST",a="GET_EVENTS_MANUALLY_SUCCESS",o="GET_EVENTS_MANUALLY_FAIL",c="SEARCH_SET_FILTERS",u="SEARCH_SET_RESULTS",i="SEARCH_SET_SELECTED_RESULT",s="SEARCH_SET_QUERY",l="UPDATE_SOURCE_PARAM",f="SEARCH_RESET_FILTERS",p="SEARCH_MAP_IS_LOADED",d="SEARCH_RESET_MAP_INFORMATION",m="SEARCH_UPDATE_MAP_INFORMATION",y="SEARCH_SELECT_LOCATION"},"7G/z":function(e,t,n){e.exports={EventListItemSingleContent:"_2VE36",EventListItemContent:"HvzCY"}},A3vI:function(e,t,n){e.exports={App:"_3JV8y",header:"_2mdox"}},"L+Wg":function(e,t,n){"use strict";var r=n("vDqi"),a=n.n(r);t.a=a.a.create({baseURL:"https://nationalblackworkercenters.org",responseType:"json",withCredentials:!0})},N5dj:function(e,t,n){e.exports={EventListItem:"cMd8d"}},NKTA:function(e,t,n){"use strict";var r=n("6+LV");t.a={setFilters:function(e){return{type:r.h,data:{filters:e}}},search:function(e){return{type:r.g,data:e}},clearSearchResults:function(){return{type:r.j,data:{}}},selectResult:function(e){return{type:r.k,data:e}},updateMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:r.l,data:{bounds:e,center:t,zoom:n}}},resetMap:function(){return{type:r.f}},setMap:function(e){return{type:r.d,data:e}},resetFilters:function(){return{type:r.e}},updateSourceParam:function(e){return{type:r.m,data:{source:e}}}}},OOTs:function(e,t,n){"use strict";(function(e){t.a={server:{host:e.env.NODE_HOST||"localhost",port:e.env.PORT||8080},app:{htmlAttributes:{lang:"en"},title:"National Black Worker Center Project Action Map",titleTemplate:"National Black Worker Center Project Action Map",meta:[{name:"description",content:"Find actions and stories to experience on the map."}]}}}).call(this,n("8oxB"))},ORDj:function(e,t,n){"use strict";var r=n("ma9I"),a=n.n(r),o=n("07d7"),c=n.n(o),u=n("5s+n"),i=n.n(u),s=n("q1tI"),l=n.n(s),f=n("MKeS"),p=n("Y8ry"),d=n("fWWA"),m=n("WBc4"),y=n.n(m),h=Object(f.a)({resolved:{},chunkName:function(){return"SearchView"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return Promise.all([n.e(0),n.e(5),n.e(2)]).then(n.bind(null,"XTp6"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"XTp6"}},{ssr:!1,fallback:l.a.createElement("div",{className:"".concat(y.a.SearchContainer," ").concat(y.a.SearchContainerLoading)},l.a.createElement(p.a,null))});t.a=function(e){return l.a.createElement(d.a,null,l.a.createElement(h,e))}},TcrF:function(e,t,n){e.exports={EventListContainer:"oVN4j",EventList:"_2rZY0",EventListNull:"_17pVq",EventListNullText:"_1X7e3",EventListNullButton:"_3FOsT"}},WBc4:function(e,t,n){e.exports={SearchContainer:"_26i_H",SearchContainerLoading:"_2xxC7",SearchViewport:"_2fWUa",SearchForm:"_1hpYv","search-input":"_1ENGs",SearchTextContainer:"_1378z",SearchText:"_28E_V",SearchButton:"L3T1y",FilterForm:"_2BNCu","event-check":"R2RGR",EventFilterIcon:"_3CUcO",EventFilterIconAction:"_3bhl-",EventFilterIconOrganization:"_2V6wR"}},XUWG:function(e,t,n){e.exports={EventBundledLoc:"Ru1Zy",EventBundledItems:"_29oyN",EventBundledItem:"_2ZCwv","event-list-item-date":"_1RmFe","event-list-date-view":"_24CMw","event-list-date-data":"_1-aB_","event-list-day-data":"_2ukjM","event-list-month-data":"_2EAdj","event-list-item-cta-btn":"_30VU0"}},Y8ry:function(e,t,n){"use strict";n("ma9I");var r=n("q1tI"),a=n.n(r),o=n("0tbs"),c=n.n(o);t.a=function(){return a.a.createElement("div",{className:c.a.Loading},a.a.createElement("div",{className:"".concat(c.a.ProgressBar," ").concat(c.a.Stripes)}))}},ZdWZ:function(e,t,n){"use strict";var r=n("07d7"),a=n.n(r),o=n("5s+n"),c=n.n(o),u=n("q1tI"),i=n.n(u),s=n("MKeS"),l=n("Y8ry"),f=n("fWWA"),p=Object(s.a)({resolved:{},chunkName:function(){return"MapContainer"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return Promise.all([n.e(0),n.e(4),n.e(1)]).then(n.bind(null,"elDt"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"elDt"}},{ssr:!1,fallback:i.a.createElement(l.a,null)});t.a=function(e){return i.a.createElement(f.a,null,i.a.createElement(p,e))}},fWWA:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));n("pNMO"),n("4Brf"),n("0oug"),n("4mDm"),n("NBAS"),n("ExoC"),n("07d7"),n("SuFq"),n("JfAA"),n("PKPk"),n("3bBZ");var r=n("q1tI"),a=n.n(r);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(p,e);var t,n,r,o,f=(t=p,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return i(this,e)});function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=f.call(this,e)).state={error:null,errorInfo:null},t}return n=p,(r=[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.errorInfo,r=t.error;return n?a.a.createElement("div",{"data-testid":"error-view"},a.a.createElement("h2",null,"Something went wrong."),a.a.createElement("details",{style:{whiteSpace:"pre-wrap"}},r&&r.toString(),a.a.createElement("br",null),n.componentStack)):e||null}}])&&c(n.prototype,r),o&&c(n,o),p}(r.PureComponent)},"haZ/":function(e,t,n){e.exports={Home:"_1ReGK"}},hgKR:function(e,t,n){e.exports={NotFound:"_3L-oY"}},jRuy:function(e,t,n){},ku3G:function(e,t,n){e.exports={ListArea:"_1CTsl"}},mCOD:function(e,t,n){},maJy:function(e,t,n){"use strict";n("ma9I");var r=n("q1tI"),a=n.n(r),o=n("7G/z"),c=n.n(o),u=function(e){var t=e.bundled,n=e.content;return a.a.createElement("div",{className:"".concat(c.a.EventListItemContent," ").concat(t?"":c.a.EventListItemSingleContent),dangerouslySetInnerHTML:{__html:n}})},i=n("tR/k"),s=n.n(i),l=n("XUWG"),f=n.n(l);t.a=function(e){var t=e.bundled,n=void 0!==t&&t,r=e.sourceParam,o=e.event,c=o.title,i=o.url,l=o.content,p=o.contentType,d="".concat(i).concat(r?"?source=".concat(r):""),m=s.a.EventListItemContainer;n&&(m="".concat(m," ").concat(f.a.EventBundledItem));var y="".concat(s.a.EventListItemEventType);return"organization"===p?y="".concat(y," ").concat(s.a.EventListItemEventTypeOrganization):"action"===p&&(y="".concat(y," ").concat(s.a.EventListItemEventTypeAction)),a.a.createElement("div",{className:m},a.a.createElement("div",{className:s.a.EventListItemInfo},a.a.createElement("div",{className:y},p),a.a.createElement("h2",{className:s.a.EventListItemTitle},a.a.createElement("a",{href:d,target:"_blank",rel:"noopener noreferrer"},c)),a.a.createElement(u,{bundled:n,content:l})))}},nzdV:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("/MKj"),c=n("qhky"),u=n("haZ/"),i=n.n(u),s=(n("pNMO"),n("4Brf"),n("0oug"),n("4mDm"),n("NBAS"),n("ExoC"),n("07d7"),n("SuFq"),n("JfAA"),n("PKPk"),n("3bBZ"),n("zKZe"),n("ku3G")),l=n.n(s);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=function(e){return a.a.createElement("div",f({className:l.a.ListArea},e))},d=n("+BRp"),m=n.n(d);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=function(e){return a.a.createElement("div",y({className:m.a.MapArea},e))},v=(n("TeQF"),n("yq1k"),n("B6y2"),n("rB9j"),n("JTJg"),n("hByQ"),n("ma9I"),n("pjDv"),n("2B1R"),n("+2oP"),n("sMBO"),n("maJy")),b=n("N5dj"),g=n.n(b),E=function(e){var t=e.event,n=e.sourceParam;return a.a.createElement("li",{className:g.a.EventListItem},a.a.createElement(v.a,{event:t,sourceParam:n}))},O=n("TcrF"),_=n.n(O);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,u=e[Symbol.iterator]();!(r=(c=u.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=Object(o.c)((function(e){return{map:e.search.map}}))((function(e){var t=e.activeFilters,n=e.eventsData,o=e.sourceParam,c=e.map,u=S(Object(r.useState)(!1),2),i=u[0],s=u[1];return Object(r.useEffect)((function(){c&&i&&(c.fitBounds([[-65.27952974884487,54.281353451957585],[-127.3735738860654,19.084515887021055]]),s(!1))}),[c,i]),a.a.createElement("div",{className:_.a.EventListContainer},a.a.createElement("ul",{className:_.a.EventList},!!t&&n.map((function(e){return a.a.createElement(E,{event:e,sourceParam:o,key:"".concat(e.longitude,"-").concat(e.latitude,"-").concat(e.url)})})),0===n.length&&a.a.createElement("div",{className:_.a.EventListNull},a.a.createElement("p",{className:_.a.EventListNullText},"Nothing found in this area. Try a different search, or zoom out to find the closest action or organization."),a.a.createElement("button",{type:"button",className:_.a.EventListNullButton,onClick:function(){return s(!0)}},"Zoom Out"))))})),P=Object(o.c)((function(e){var t=e.home,n=e.search,r=function(e,t){return Object.values(e.eventsData.filter((function(e){var n,r,a,o,c,u=!e.contentType||!!e.contentType&&t.activeFilters.includes(e.contentType);return t.bounds?u&&(n=t.bounds.northeast,r=t.bounds.southwest,o=((a={lng:e.longitude,lat:e.latitude}).lng-n.lng)*(a.lng-r.lng)<0,c=(a.lat-n.lat)*(a.lat-r.lat)<0,o&&c):u})).sort((function(e,t){return new Date(e.datetime_start)-new Date(t.datetime_start)})))}(t,n);return{activeFilters:n.activeFilters,eventsData:r,searchQuery:n.searchQuery,sourceParam:n.sourceParam}}))((function(e){var t=e.eventsData,n=e.activeFilters,r=e.sourceParam;return a.a.createElement(w,{activeFilters:n,eventsData:t,sourceParam:r})})),A=(n("oVuX"),n("EnZy"),n("Kz25"),n("ORDj")),R=n("NKTA");function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(u,e);var t,n,r,o,c=(t=u,function(){var e,n=x(t);if(F()){var r=x(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return D(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=c.call(this,e)).state={searchQuery:null,shouldQuery:!1},t.handleFilterChange=t.handleFilterChange.bind(k(t)),t.handleSearch=t.handleSearch.bind(k(t)),t}return n=u,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props.history;t.listen((function(t,n){"POP"===n&&e.handleHistoryChange(t)})),""!==t.location.search&&this.handleHistoryChange(t.location)}},{key:"handleHistoryChange",value:function(e){var t=new URLSearchParams(e.search),n=this.props,r=n.updateSourceParam,a=n.searchLocation,o=n.setFilters,c=n.resetFilters,u=this.state.searchQuery,i=t.get("search")||null;t.get("source")&&r(t.get("source")),this.setState({searchQuery:i,shouldQuery:i!==u}),a(i),t.get("types")?o(t.get("types").split(",")):t.get("search")&&c()}},{key:"handleSearch",value:function(e){var t=this,n=this.props.clearSearchResults,r=this.state.searchQuery,a=e===r;n(),this.setState({searchQuery:e,shouldQuery:!1},(function(){if(!a){var n=t.props,r=n.activeFilters;(0,n.searchLocation)(e),t.handleHistoryPush(r)}}))}},{key:"handleHistoryPush",value:function(e){var t=this.state.searchQuery,n=this.props,r=n.history,a=n.source,o=t?"&search=".concat(t):"",c=e&&e.length>0?"&types=".concat(e.join(",")):"",u=a?"&source=".concat(a):"";r.push("?q=".concat(o).concat(c).concat(u))}},{key:"handleFilterChange",value:function(e){var t=this.props,n=t.activeFilters,r=t.setFilters,a=e.target.value,o=n.includes(a)?n.filter((function(e){return e!==a})):[].concat(L(n),[a]);r(o),this.handleHistoryPush(o)}},{key:"render",value:function(){var e=this.props,t=e.activeFilters,n=e.eventTypes,r=e.map,o=this.state,c=o.searchQuery,u=o.shouldQuery;return a.a.createElement(A.a,{activeFilters:t,eventTypes:n,handleFilterChange:this.handleFilterChange,handleSearch:this.handleSearch,map:r,searchQuery:c,shouldQuery:u})}}])&&N(n.prototype,r),o&&N(n,o),u}(a.a.Component),M=Object(o.c)((function(e){var t=e.search,n=e.home;return{activeFilters:t.activeFilters,chosenResult:t.chosenResult,eventTypes:n.eventTypes,map:t.map,searchQuery:t.searchQuery,searchResults:t.searchResults.results,source:t.sourceParam}}),(function(e){return{clearSearchResults:function(){return e(R.a.clearSearchResults())},resetFilters:function(){return e(R.a.resetFilters())},searchLocation:function(t){return e(R.a.search(t))},selectResult:function(t){return e(R.a.selectResult(t))},setFilters:function(t){return e(R.a.setFilters(t))},updateSourceParam:function(t){return e(R.a.updateSourceParam(t))}}}))(B),H=n("ZdWZ"),Q=n("wQ7H"),V=n("2VHb");function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function K(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(u,e);var t,n,r,o,c=(t=u,function(){var e,n=Z(t);if(K()){var r=Z(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return W(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=c.call(this,e)).state={},t}return n=u,(r=[{key:"componentDidMount",value:function(){(0,this.props.fetchEventsIfNeeded)()}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(p,null,a.a.createElement(M,{history:V.a}),a.a.createElement(P,{history:V.a})),a.a.createElement(h,null,a.a.createElement(H.a,{history:V.a})))}}])&&U(n.prototype,r),o&&U(n,o),u}(a.a.Component),Y=Object(o.c)(null,(function(e){return{fetchEventsIfNeeded:function(){e(Object(Q.a)())}}}))(G);t.a=Object(r.memo)((function(){var e=Object(o.d)((function(e){return e.home})).readyStatus;return a.a.createElement("div",{className:i.a.Home},a.a.createElement(c.a,{title:"Home"}),"failure"===e?a.a.createElement("p",null,"Failed to load action map."):a.a.createElement(Y,null))}))},"tR/k":function(e,t,n){e.exports={EventListItemContainer:"_1zYyh",EventListItemTitle:"_1diTI",EventInformation:"_oU7N",EventListItemDate:"v3Vx3",EventListDateView:"_3qbjR",EventListDayData:"_1ZBea",EventListItemEventType:"sEzZD",EventListItemEventTypeOrganization:"_1KVO3",EventListItemEventTypeAction:"_LPtj",EventListIcon:"_3U0s3",EventListDateData:"_1gawg",EventListMonthData:"_28A-J","maps-for-all-content":"_2dSj2","event-list-item-container":"dP0vX","event-list-item-type":"_2CD-d","event-list-item-cta":"_19YPj","event-list-item-cta-btn":"_1RzXO"}},wQ7H:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));n("pNMO"),n("4Brf"),n("0oug"),n("ma9I"),n("QWBl"),n("pjDv"),n("4mDm"),n("+2oP"),n("sMBO"),n("qePV"),n("07d7"),n("5s+n"),n("JfAA"),n("PKPk"),n("FZtP"),n("3bBZ"),n("ls82");var r=n("2HEe"),a=n.n(r),o=n("6+LV"),c=n("L+Wg");function u(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t,n,r,a,o,c){try{var u=e[o](c),i=u.value}catch(e){return void n(e)}u.done?t(i):Promise.resolve(i).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){s(o,r,a,c,u,"next",e)}function u(e){s(o,r,a,c,u,"throw",e)}c(void 0)}))}}var f=100,p="https://nationalblackworkercenters.org";function d(e){return m.apply(this,arguments)}function m(){return(m=l(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,e.next=3,a()("".concat(p,"/?rest_route=/wp/v2/map_stories&per_page=").concat(f,"&page=").concat(n),{jsonpCallback:"_jsonp"});case 3:return r=e.sent,e.next=6,r.json();case 6:if(!(o=e.sent)||!o.data||400!==o.data.status){e.next=11;break}throw new Error("end of pages");case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){return h.apply(this,arguments)}function h(){return(h=l(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.currentPage,e.abrupt("return",d({page:r}).then((function(e){var t=[].concat(u(n),u(e));return e.length===f?y({currentPage:r+1},t):t})).catch((function(){return n})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return b.apply(this,arguments)}function b(){return(b=l(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y({currentPage:1},[]);case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function g(){return E.apply(this,arguments)}function E(){return(E=l(regeneratorRuntime.mark((function e(){var t,n,r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,c.a.request({method:"GET",url:"/wp-json/wp/v2/map_stories",params:{per_page:f}});case 3:for(n=e.sent,t=[].concat(u(t),u(n.data)),r=Number(n.headers["x-wp-totalpages"]||1),a=[],o=2;o<=r;o+=1)i=c.a.request({method:"GET",url:"/wp-json/wp/v2/map_stories",params:{per_page:f,page:o}}),a.push(i);return e.next=10,Promise.all(a);case 10:return e.sent.forEach((function(e){t=[].concat(u(t),u(e.data))})),e.abrupt("return",t);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return _.apply(this,arguments)}function _(){return(_=l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p!==window.location.origin){e.next=2;break}return e.abrupt("return",g());case 2:return e.abrupt("return",v());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=function(){return function(e,t){return"success"!==t().home.readyStatus?e(function(){var e=l(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:o.b}),e.prev=1,e.next=4,O();case 4:n=e.sent,t({type:o.c,payload:{data:n}}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:o.a,payload:{data:e.t0.message}});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()):null}}}});